"use strict";(self.webpackChunkapi_doc_docusaurus=self.webpackChunkapi_doc_docusaurus||[]).push([[9217],{7960:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>i,frontMatter:()=>u,metadata:()=>s,toc:()=>d});var r=t(4848),o=t(8453);const u={},c=void 0,s={id:"web\u524d\u7aef/VUE3/setup",title:"setup",description:"vue3 setup",source:"@site/docs/web\u524d\u7aef/VUE3/setup.md",sourceDirName:"web\u524d\u7aef/VUE3",slug:"/web\u524d\u7aef/VUE3/setup",permalink:"/qyan-map/docs/web\u524d\u7aef/VUE3/setup",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/web\u524d\u7aef/VUE3/setup.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"API",permalink:"/qyan-map/docs/web\u524d\u7aef/VUE3/API"},next:{title:"\u5b98\u7f51\u6458\u5f55",permalink:"/qyan-map/docs/web\u524d\u7aef/VUE3/\u5b98\u7f51\u6458\u5f55"}},a={},d=[{value:"vue3 setup",id:"vue3-setup",level:2}];function p(n){const e={code:"code",h2:"h2",pre:"pre",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"vue3-setup",children:"vue3 setup"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"\u5728 Vue 3 \u4e2d\uff0csetup \u662f\u4e00\u4e2a\u65b0\u5f15\u5165\u7684\u9009\u9879\uff0c\u5b83\u5141\u8bb8\u4f60\u5728\u7ec4\u4ef6\u5b9e\u4f8b\u88ab\u521b\u5efa\u548c\u521d\u59cb\u5316\u5c5e\u6027\u540e\uff0c\u4f46\u5728\u4efb\u4f55\u751f\u547d\u5468\u671f\u94a9\u5b50\u8fd0\u884c\u4e4b\u524d\uff0c\u4f7f\u7528\u65b0\u7684 Composition API\u3002\r\n\r\n\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5728 setup \u4e2d\u53ef\u4ee5\u4f7f\u7528\u7684 Vue 3 \u65b0\u7279\u6027\uff1a\r\n\r\n1. \u54cd\u5e94\u5f0f\u5f15\u7528\uff08Ref\uff09\uff1aref \u521b\u5efa\u4e00\u4e2a\u54cd\u5e94\u5f0f\u5bf9\u8c61\uff0c\u5f53\u4f60\u4fee\u6539\u5b83\u7684\u503c\u65f6\uff0c\u89c6\u56fe\u4f1a\u81ea\u52a8\u66f4\u65b0\u3002\r\n\r\nimport { ref } from 'vue';\r\n\r\nexport default {\r\n  setup() {\r\n    const count = ref(0);\r\n    return { count };\r\n  }\r\n};\r\n\r\n2. \u54cd\u5e94\u5f0f\u5bf9\u8c61\uff08Reactive\uff09\uff1areactive \u521b\u5efa\u4e00\u4e2a\u54cd\u5e94\u5f0f\u5bf9\u8c61\uff0c\u7c7b\u4f3c\u4e8e Vue 2 \u4e2d\u7684 data \u9009\u9879\u3002\r\nimport { reactive } from 'vue';\r\n\r\nexport default {\r\n  setup() {\r\n    const state = reactive({ count: 0 });\r\n    return { state };\r\n  }\r\n};\r\n\r\n3. \u8ba1\u7b97\u5c5e\u6027\uff08Computed\uff09\uff1acomputed \u521b\u5efa\u4e00\u4e2a\u8ba1\u7b97\u5c5e\u6027\uff0c\u7c7b\u4f3c\u4e8e Vue 2 \u4e2d\u7684 computed \u9009\u9879\u3002\r\nimport { ref, computed } from 'vue';\r\n\r\nexport default {\r\n  setup() {\r\n    const count = ref(0);\r\n    const doubleCount = computed(() => count.value * 2);\r\n    return { count, doubleCount };\r\n  }\r\n};\r\n\r\n4. \u89c2\u5bdf\u8005\uff08Watch\uff09\uff1awatch \u548c watchEffect \u5141\u8bb8\u4f60\u89c2\u5bdf\u54cd\u5e94\u5f0f\u6570\u636e\u7684\u53d8\u5316\u3002\r\nimport { ref, watch, watchEffect } from 'vue';\r\n\r\nexport default {\r\n  setup() {\r\n    const count = ref(0);\r\n\r\n    watch(count, (newValue, oldValue) => {\r\n      console.log(`Count changed from ${oldValue} to ${newValue}`);\r\n    });\r\n\r\n    watchEffect(() => {\r\n      console.log(`Count is now ${count.value}`);\r\n    });\r\n\r\n    return { count };\r\n  }\r\n};\r\n\r\n5. \u751f\u547d\u5468\u671f\u94a9\u5b50\uff1aVue 3 \u63d0\u4f9b\u4e86\u65b0\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\uff0c\u5982 onMounted\u3001onUpdated \u548c onUnmounted\u3002\r\n\r\nimport { onMounted, onUpdated, onUnmounted } from 'vue';\r\n\r\nexport default {\r\n  setup() {\r\n    onMounted(() => {\r\n      console.log('Component is mounted');\r\n    });\r\n\r\n    onUpdated(() => {\r\n      console.log('Component is updated');\r\n    });\r\n\r\n    onUnmounted(() => {\r\n      console.log('Component is unmounted');\r\n    });\r\n  }\r\n};\r\n\n"})})]})}function i(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(p,{...n})}):p(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>c,x:()=>s});var r=t(6540);const o={},u=r.createContext(o);function c(n){const e=r.useContext(u);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:c(n.components),r.createElement(u.Provider,{value:e},n.children)}}}]);